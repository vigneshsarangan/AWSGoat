{
  "version": "2.2.0",
  "summary": {
    "title": "Prospects Flow",
    "owner": "Vignesh",
    "description": "Lambda function\n\nWe share api gateway webhook details to Amma Client application, by creating Custom domain in Aws API gateway and create C name records in GoDaddy, and share those webhook details to Amma client. So whenever we submit Prospect by entering client details phon number, name at the client agent end using amma client application, It will send data to our Api webhook, once its received the Lambda will store the data to RDS server. \n\nWe use Regional API, VPC for lambda, Subnet, RDS,\n\nNote: Components\nAWS Lambda - subnet is private, but Security group allowed All traffic in inbound\nAWS RDS - Public Accessible is Yes, but security group is restricted. \nZendesk - Public SAAS solution\nAmeyo Call center App - Hosted in On prem server - It is in public. \nGo Daddy\n\na ) Lambda 1. First - Logs the prospects request, angaza sends the data and it just saves the all the datas to RDS,  Note: (RDS setting publicly accessible - yes, but security group is restricted by adding specific IP's)\n\nb). Lambda 3,  Create Zendesk ticket using Token and upload Basic details to ameyo using Ameyo basic authentication using lambda.\n\nc) Some of Data is uploading to AWS S3 bucket ",
    "id": 0
  },
  "detail": {
    "contributors": [],
    "diagrams": [
      {
        "id": 1,
        "title": "New STRIDE diagram",
        "diagramType": "STRIDE",
        "placeholder": "New STRIDE diagram description",
        "thumbnail": "./public/content/images/thumbnail.stride.jpg",
        "version": "2.2.0",
        "cells": [],
        "description": "@startuml node \"GoDaddy\" as godaddy { }  node \"Amma Client Application\" as ammaClient { }  cloud \"AWS\" {     node \"API Gateway (Custom Domain)\" as apiGateway {     }      frame \"VPC\" {         node \"Lambda (Log & Save Data)\" as lambda1 {             note right of lambda1 : Private Subnet\\nSG allows all traffic         }         node \"Lambda (Zendesk & Ameyo)\" as lambda2 {             note right of lambda2 : Private Subnet\\nSG allows all traffic         }          node \"RDS\" as rds {             note right of rds : Publicly accessible\\nSG restricted         }     } }  node \"Zendesk\" as zendesk { }  node \"Ameyo Call Center App\" as ameyo { }  ammaClient --> godaddy : Create CNAME Records ammaClient --> apiGateway : Submit Prospect (Name, Phone) apiGateway --> lambda1 : Invoke Lambda1 lambda1 --> rds : Save Data to RDS lambda1 --> zendesk : Create Zendesk Ticket (Token Auth) lambda1 --> ameyo : Upload Basic Details (Basic Auth)  apiGateway --> lambda2 : Invoke Lambda2 @enduml"
      }
    ],
    "diagramTop": 2,
    "reviewer": "Anup Epari Raj",
    "threatTop": 0
  }
}